---
   - hosts: 127.0.0.1
     become: yes
     tasks:
       - name: Update apt repository
         apt:
           update_cache: yes

       - name: Install Docker
         apt:
           name: docker.io
           state: present

       - name: Install Docker Compose
         apt:
           name: python3-pip
           state: present

       - name: Install pip for Docker Compose
         pip:
           name: docker-compose

       - name: Install GitLab Runner
         script: gitlab-runner-install.sh

       - name: Setup SSH keys
         authorized_key:
           user: ubuntu
           state: present
           key: "{{ lookup('file', 'path/to/your/public_key.pub') }}"
